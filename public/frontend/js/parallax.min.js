!function(e){"use strict";Date.now||(Date.now=function(){return(new Date).getTime()}),e.requestAnimationFrame||function(){for(var t=["webkit","moz"],i=0;i<t.length&&!e.requestAnimationFrame;++i){var n=t[i];e.requestAnimationFrame=e[n+"RequestAnimationFrame"],e.cancelAnimationFrame=e[n+"CancelAnimationFrame"]||e[n+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(e.navigator.userAgent)||!e.requestAnimationFrame||!e.cancelAnimationFrame){var o=0;e.requestAnimationFrame=function(e){var t=Date.now(),i=Math.max(o+16,t);return setTimeout((function(){e(o=i)}),i-t)},e.cancelAnimationFrame=clearTimeout}}();var t=document.createElement("div");function i(e){var i=["O","Moz","ms","Ms","Webkit"],n=i.length;if(void 0!==t.style[e])return!0;for(e=e.charAt(0).toUpperCase()+e.substr(1);--n>-1&&void 0===t.style[i[n]+e];);return n>=0}var n,o,a=i("transform"),r=i("perspective"),l=navigator.userAgent,s=l.toLowerCase().indexOf("android")>-1,c=/iPad|iPhone|iPod/.test(l)&&!e.MSStream,m=l.toLowerCase().indexOf("firefox")>-1,p=l.indexOf("MSIE ")>-1||l.indexOf("Trident/")>-1||l.indexOf("Edge/")>-1,u=document.all&&!e.atob;function d(){n=e.innerWidth||document.documentElement.clientWidth,o=e.innerHeight||document.documentElement.clientHeight}d();var g,f=[],h=(g=0,function(e,t){var i,n=this;if(n.$item=e,n.defaults={type:"scroll",speed:.5,imgSrc:null,imgWidth:null,imgHeight:null,elementInViewport:null,zIndex:-100,noAndroid:!1,noIos:!0,onScroll:null,onInit:null,onDestroy:null,onCoverImage:null},i=JSON.parse(n.$item.getAttribute("data-jarallax")||"{}"),n.options=n.extend({},n.defaults,i,t),!(!a||s&&n.options.noAndroid||c&&n.options.noIos)){n.options.speed=Math.min(2,Math.max(-1,parseFloat(n.options.speed)));var o=n.options.elementInViewport;o&&"object"==typeof o&&void 0!==o.length&&(o=o[0]),!o instanceof Element&&(o=null),n.options.elementInViewport=o,n.instanceID=g++,n.image={src:n.options.imgSrc||null,$container:null,$item:null,width:n.options.imgWidth||null,height:n.options.imgHeight||null,useImgTag:c||s||p,position:!r||m?"absolute":"fixed"},n.initImg()&&n.init()}});function y(e,t,i){e.addEventListener?e.addEventListener(t,i):e.attachEvent("on"+t,(function(){i.call(e)}))}function v(t){e.requestAnimationFrame((function(){"scroll"!==t.type&&d();for(var e=0,i=f.length;e<i;e++)"scroll"!==t.type&&(f[e].coverImage(),f[e].clipContainer()),f[e].onScroll()}))}h.prototype.css=function(t,i){if("string"==typeof i)return e.getComputedStyle?e.getComputedStyle(t).getPropertyValue(i):t.style[i];for(var n in i.transform&&(r&&(i.transform+=" translateZ(0)"),i.WebkitTransform=i.MozTransform=i.msTransform=i.OTransform=i.transform),i)t.style[n]=i[n];return t},h.prototype.extend=function(e){e=e||{};for(var t=1;t<arguments.length;t++)if(arguments[t])for(var i in arguments[t])arguments[t].hasOwnProperty(i)&&(e[i]=arguments[t][i]);return e},h.prototype.initImg=function(){var e=this;return null===e.image.src&&(e.image.src=e.css(e.$item,"background-image").replace(/^url\(['"]?/g,"").replace(/['"]?\)$/g,"")),!(!e.image.src||"none"===e.image.src)},h.prototype.init=function(){var e=this,t={position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden",pointerEvents:"none"},i={};e.$item.setAttribute("data-jarallax-original-styles",e.$item.getAttribute("style")),"static"===e.css(e.$item,"position")&&e.css(e.$item,{position:"relative"}),"auto"===e.css(e.$item,"z-index")&&e.css(e.$item,{zIndex:0}),e.image.$container=document.createElement("div"),e.css(e.image.$container,t),e.css(e.image.$container,{visibility:"hidden","z-index":e.options.zIndex}),e.image.$container.setAttribute("id","jarallax-container-"+e.instanceID),e.$item.appendChild(e.image.$container),e.image.useImgTag?(e.image.$item=document.createElement("img"),e.image.$item.setAttribute("src",e.image.src),i=e.extend({"max-width":"none"},t,i)):(e.image.$item=document.createElement("div"),i=e.extend({"background-position":"50% 50%","background-size":"100% auto","background-repeat":"no-repeat no-repeat","background-image":'url("'+e.image.src+'")'},t,i));for(var n=0,o=e.$item;null!==o&&o!==document&&0===n;){var a=e.css(o,"-webkit-transform")||e.css(o,"-moz-transform")||e.css(o,"transform");a&&"none"!==a&&(n=1,e.css(e.image.$container,{transform:"translateX(0) translateY(0)"})),o=o.parentNode}function r(){e.coverImage(),e.clipContainer(),e.onScroll(!0),e.options.onInit&&e.options.onInit.call(e),setTimeout((function(){e.$item&&e.css(e.$item,{"background-image":"none","background-attachment":"scroll","background-size":"auto"})}),0)}(n||"opacity"===e.options.type||"scale"===e.options.type||"scale-opacity"===e.options.type)&&(e.image.position="absolute"),i.position=e.image.position,e.css(e.image.$item,i),e.image.$container.appendChild(e.image.$item),e.image.width&&e.image.height?r():e.getImageSize(e.image.src,(function(t,i){e.image.width=t,e.image.height=i,r()})),f.push(e)},h.prototype.destroy=function(){for(var e=this,t=0,i=f.length;t<i;t++)if(f[t].instanceID===e.instanceID){f.splice(t,1);break}var n=e.$item.getAttribute("data-jarallax-original-styles");for(var o in e.$item.removeAttribute("data-jarallax-original-styles"),"null"===n?e.$item.removeAttribute("style"):e.$item.setAttribute("style",n),e.$clipStyles&&e.$clipStyles.parentNode.removeChild(e.$clipStyles),e.image.$container.parentNode.removeChild(e.image.$container),e.options.onDestroy&&e.options.onDestroy.call(e),delete e.$item.jarallax,e)delete e[o]},h.prototype.getImageSize=function(e,t){if(e&&t){var i=new Image;i.onload=function(){t(i.width,i.height)},i.src=e}},h.prototype.clipContainer=function(){if(!u){var e=this,t=e.image.$container.getBoundingClientRect(),i=t.width,n=t.height;if(!e.$clipStyles)e.$clipStyles=document.createElement("style"),e.$clipStyles.setAttribute("type","text/css"),e.$clipStyles.setAttribute("id","#jarallax-clip-"+e.instanceID),(document.head||document.getElementsByTagName("head")[0]).appendChild(e.$clipStyles);var o=["#jarallax-container-"+e.instanceID+" {","   clip: rect(0 "+i+"px "+n+"px 0);","   clip: rect(0, "+i+"px, "+n+"px, 0);","}"].join("\n");e.$clipStyles.styleSheet?e.$clipStyles.styleSheet.cssText=o:e.$clipStyles.innerHTML=o}},h.prototype.coverImage=function(){var e=this;if(e.image.width&&e.image.height){var t=e.image.$container.getBoundingClientRect(),i=t.width,n=t.height,a=t.left,r=e.image.width,l=e.image.height,s=e.options.speed,c="scroll"===e.options.type||"scroll-opacity"===e.options.type,m=0,p=0,u=n,d=0,g=0;c&&(m=s<0?s*Math.max(n,o):s*(n+o),s>1?u=Math.abs(m-o):s<0?u=m/s+Math.abs(m):u+=Math.abs(o-n)*(1-s),m/=2),(p=u*r/l)<i&&(u=(p=i)*l/r),c?(d=a+(i-p)/2,g=(o-u)/2):(d=(i-p)/2,g=(n-u)/2),"absolute"===e.image.position&&(d-=a),e.parallaxScrollDistance=m,e.css(e.image.$item,{width:p+"px",height:u+"px",marginLeft:d+"px",marginTop:g+"px"}),e.options.onCoverImage&&e.options.onCoverImage.call(e)}},h.prototype.isVisible=function(){return this.isElementInViewport||!1},h.prototype.onScroll=function(e){var t=this;if(t.image.width&&t.image.height){var i=t.$item.getBoundingClientRect(),a=i.top,r=i.height,l={visibility:"visible",backgroundPosition:"50% 50%"},s=i;if(t.options.elementInViewport&&(s=t.options.elementInViewport.getBoundingClientRect()),t.isElementInViewport=s.bottom>=0&&s.right>=0&&s.top<=o&&s.left<=n,e||t.isElementInViewport){var c=Math.max(0,a),m=Math.max(0,r+a),p=Math.max(0,-a),u=Math.max(0,a+r-o),d=Math.max(0,r-(a+r-o)),g=Math.max(0,-a+o-r),f=1-2*(o-a)/(o+r),h=1;if(r<o?h=1-(p||u)/r:m<=o?h=m/o:d<=o&&(h=d/o),"opacity"!==t.options.type&&"scale-opacity"!==t.options.type&&"scroll-opacity"!==t.options.type||(l.transform="",l.opacity=h),"scale"===t.options.type||"scale-opacity"===t.options.type){var y=1;t.options.speed<0?y-=t.options.speed*h:y+=t.options.speed*(1-h),l.transform="scale("+y+")"}if("scroll"===t.options.type||"scroll-opacity"===t.options.type){var v=t.parallaxScrollDistance*f;"absolute"===t.image.position&&(v-=a),l.transform="translateY("+v+"px)"}t.css(t.image.$item,l),t.options.onScroll&&t.options.onScroll.call(t,{section:i,beforeTop:c,beforeTopEnd:m,afterTop:p,beforeBottom:u,beforeBottomEnd:d,afterBottom:g,visiblePercent:h,fromViewportCenter:f})}}},y(e,"scroll",v),y(e,"resize",v),y(e,"orientationchange",v),y(e,"load",v);var x=function(e){("object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName)&&(e=[e]);for(var t,i=arguments[1],n=Array.prototype.slice.call(arguments,2),o=e.length,a=0;a<o;a++)if("object"==typeof i||void 0===i?e[a].jarallax||(e[a].jarallax=new h(e[a],i)):e[a].jarallax&&(t=e[a].jarallax[i].apply(e[a].jarallax,n)),void 0!==t)return t;return e};x.constructor=h;var $=e.jarallax;if(e.jarallax=x,e.jarallax.noConflict=function(){return e.jarallax=$,this},"undefined"!=typeof jQuery){var b=function(){var t=arguments||[];Array.prototype.unshift.call(t,this);var i=x.apply(e,t);return"object"!=typeof i?i:this};b.constructor=h;var I=jQuery.fn.jarallax;jQuery.fn.jarallax=b,jQuery.fn.jarallax.noConflict=function(){return jQuery.fn.jarallax=I,this}}y(e,"DOMContentLoaded",(function(){x(document.querySelectorAll("[data-jarallax], [data-jarallax-video]"))}))}(window);